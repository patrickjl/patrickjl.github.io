<html lang="en"> 
<head>
  <title>STATS</title>
  <meta charset="utf-8"/>
 </head>
  
  <body>
<input type="text" id="numberSeries"/>
    <button id="calculate" onclick="calculate();">Calculate</button>
    <p></p>

    <style> 
      table, th, td {
        border: 1px solid black;
        border-collapse: collapse;
      }
      td, td{
        padding: 5px;
      }
      th {
        text-aligne: left;
      }
      
      }
    </style>
<table style="width: 100%">
  <table align="center">
<tr>
  <th>Statistic</th>
  <th></th>
  <th>Sample </th>
  <th></th>
  <th>Population </th>
  </tr>
<tr>
  <td> Size: </td>
  <td>n</td>
  <td><div id="calculationSampleSize"></div></td>
  <td>N</td>
  <td><div id="calculationPopSize"></div></td>
    </tr>
<tr>
  <td> Sum: </td>
  <td>Σ</td>
  <td><div id="calculationSampleSum"></div></td>
  <td>Σ</td>
  <td><div id="calculationPopSum"></div></td>
  </tr>
<tr>
  <td> Mean: </td>
  <td>x̄</td>
  <td><div id="calculationSampleMean"></div></td>
  <td>μ</td>
  <td><div id="calculationPopMean"></div></td>
  </tr>
  <td> Variance: </td>
  <td>s²</td>
  <td><div id="calculationSampleVar"></div></td>
  <td>σ²</td>
  <td><div id="calculationPopVar"></div></td>
  <tr>
  <td> Std. Deviation: </td>
  <td>s</td>
  <td><div id="calculationSampleStdDev"></div></td>
  <td>σ</td>
  <td><div id="calculationPopStdDev"></div></td>
  </tr>
    </table>



<script>

function calculate() {
  // This is the string that contains the numbers separated by a space.
  var inputValue = document.getElementById('numberSeries').value;

  var values = inputValue.split(' ')
    .map((val) => parseInt(val))
    .filter((val) => !isNaN(val));
  

    //part of the code don't change
  var sum = values.reduce((currentVal, nextVal) => currentVal + nextVal, 0);
  var average = sum / values.length;

  
  //test starts here
xMinusXbar = [];
  for (var i = 0, len = values.length; i < len; i++) 
    xMinusXbar.push(((values[i] -average)*(values[i] -average)));

    console.log(xMinusXbar);

    var sumXminusXbar = xMinusXbar

    .reduce( (sumXminusXbar,current) => sumXminusXbar + current, 0);
    console.log(sumXminusXbar);
    console.log(sumXminusXbar/xMinusXbar.length);
    var variance = sumXminusXbar/(xMinusXbar.length - 1);
    var variancep = sumXminusXbar/xMinusXbar.length;
    var stdDeviation = Math.sqrt(variance);
    var stdDeviationp = Math.sqrt(variancep);
    console.log(stdDeviation);
     

  document.getElementById('calculationSampleSize').innerHTML = `${values.length}`;
  document.getElementById('calculationPopSize').innerHTML = `${values.length}`;
  document.getElementById('calculationSampleSum').innerHTML = `${sum}`;
  document.getElementById('calculationPopSum').innerHTML = `${sum}`;
  document.getElementById('calculationSampleMean').innerHTML = `${average}`;
  document.getElementById('calculationPopMean').innerHTML = `${average}`;
  document.getElementById('calculationSampleVar').innerHTML = `${variance}`;
  document.getElementById('calculationPopVar').innerHTML = `${variancep}`;
  document.getElementById('calculationSampleStdDev').innerHTML = `${stdDeviation}`;
  document.getElementById('calculationPopStdDev').innerHTML = `${stdDeviationp}`;

</script>

<br><br>
    <p>My personal javascript project, new functionalities to be added regularly. Currently working on graphing data.</p>
    </body>

  </html>
