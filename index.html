<html lang="en"> 
<head>
  <title>Stats Beta</title>
  <meta charset="utf-8"/>
 </head>
  
  <body>
<!-- Background Image -->

         <style>
body:before {
  content: "";
  display: block;
  position: fixed;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  z-index: -10;
  background: url('https://upload.wikimedia.org/wikipedia/commons/thumb/1/1d/ISS-40_Thunderheads_near_Borneo.jpg/1280px-ISS-40_Thunderheads_near_Borneo.jpg')no-repeat center center;
  -webkit-background-size: cover;
  -moz-background-size: cover;
  -o-background-size: cover;
  background-size: cover;
}
    </style>
    <br>
   
<!-- SIMPLE STATS BUTTON -->
   <button onclick="hideShowSimple()" style="color:white;opacity:0.7;background-color:blue;margin-top:10px;padding:20px;border-radius:4px;border: 1px solid white; font-size:16px" onclick="reset();">Simple Stats</button>
   
   <!-- 1-Way ANOVA BUTTON -->
   <button onclick="hideShow1WA()" style="color:white;opacity:0.7;background-color:blue;margin-top:10px;padding:20px;border-radius:4px;border: 1px solid white; font-size:16px" onclick="reset();">1-Way ANOVA</button>
   
   
<!-- Instruction Test at Top -->
    <p style="color:white;font-size:120%;font-family:Lucida Console;text-align:center;text-shadow: black 0px 0px 10px;">Enter your values separated by a blank space.</p>
   <p style="color:white;font-family:Lucida Console;text-align:center;text-shadow: black 0px 0px 10px;">Once all the values have been entered, press the Calculate button to get the data below.</p>
   
<!-- Simple Stats button script -->
   <script>
function hideShowSimple() {
  var HSS = document.getElementById("simpleStatsPage");
  if (HSS.style.display === "none") {
    HSS.style.display = "block";
  } else {
    HSS.style.display = "none";
  } // this part toggles between Simple Stats and 1-Way ANOVA
    var OWA = document.getElementById("1wayANOVApage");
  OWA.style.display = "none";
}
</script>
   
<!-- &&&&&&&&& SIMPLE STATS STARTS HERE &&&&&&&&& -->
 <div id= "simpleStatsPage">
<!-- Input Box -->
   <div id= inputbox style="text-align:center">
<input type="text" id="numberSeries" size="40" style="height:60px; border:1px solid white;input align:top"/>
     <br>
<!--Calculate Button -->
    <button id="calculate" style="opacity:0.7;background-color:blue;color:white;margin-top:10px;padding:6px;border-radius:6px;border: 1px solid white;" onclick="calculate();">&nbspCalculate&nbsp</button>
   
   <!--Reset Button -->
   <button id="reset" style="opacity:0.7;background-color:blue;color:white;margin-top:10px;padding:6px;border-radius:6px;border: 1px solid white;" onclick="reset();">&nbspReset&nbsp</button>

 </div>
<br>
   
<!-- reset button javascript -->
<script type="text/javascript">
    document.getElementById('reset').onclick= function() {
        var field= document.getElementById('numberSeries');
        numberSeries.value= numberSeries.defaultValue;
    };
</script>

   
    <p></p>

   <!--Table Structure and Style -->
    <style> 
      table, th, td {
        border: 1px solid white;        
        border-collapse: collapse;
        width:80%;
        margin:auto;
        font-size:30px
        table-layout:fixed;
        background:darkblue;
        opacity:0.65;
        color:white;
        padding:5px;
        margin-top:10px;
        
      }
      th, td{
        padding: 5px;
        opacity:0.95;
      }
      th {
        text-align: center;
        opacity:0.95;
      }
      
      }
    </style>
  <table align="center">
<tr>
  <th style="width:28%">Statistics</th>
  <th style="width:8%">&nbsp&nbsp</th>
  <th style="width:28%">Sample</th>
  <th style="width:8%">&nbsp&nbsp&nbsp&nbsp&nbsp</th>
  <th style="width:28%">Population</th></tr>

    <tr>
  <td>Size: </td>
  <td class="symbols">n</td>
  <td><div id="calculationSampleSize"></div></td>
  <td class="symbols">N</td>
      <td><div id="calculationPopSize"></div></td></tr>
 
<tr>
  <td> Sum: </td>
  <td class="symbols">Σ</td>
  <td><div id="calculationSampleSum"></div></td>
  <td class="symbols">Σ</td>
  <td><div id="calculationPopSum"></div></td>
  </tr>
<tr>
  <td> Mean: </td>
  <td class="symbols">x̄</td>
  <td><div id="calculationSampleMean"></div></td>
  <td class="symbols">μ</td>
  <td><div id="calculationPopMean"></div></td>
  </tr>
  <td> Variance: </td>
  <td class="symbols">s²</td>
  <td><div id="calculationSampleVar"></div></td>
  <td class="symbols">σ²</td>
  <td><div id="calculationPopVar"></div></td>
  <tr>
  <td> Std. Deviation: </td>
  <td class="symbols">s</td>
  <td><div id="calculationSampleStdDev"></div></td>
  <td class="symbols">σ</td>
  <td><div id="calculationPopStdDev"></div></td>
  </tr>
 
    </table>
   
   <style>
     table {
          table-layout:fixed;
  width="90%"
}
td.symbols {
  text-align:center;
  width:"90%";
}
   </style>
   </div>
<!-- Simple Stats ends at /div above -->
<!-- Simple Stats ends at /div above -->
<!-- ** ** ** ** ** ** ** ** ** -->
<!-- ANOVA starts below -->
<!-- ANOVA starts below -->
   
   <!-- Simple Stats button script -->
   <script>
function hideShow1WA() {
  var OWA = document.getElementById("1wayANOVApage");
  if (OWA.style.display === "none") {
    OWA.style.display = "block";
  } else {
    OWA.style.display = "none";
  } // this part toggles between Simple Stats and 1-Way ANOVA
  var HSS = document.getElementById("simpleStatsPage");
  HSS.style.display = "none";
}
</script>
   
   <div id= 1wayANOVApage>
     
         <p style="color:white;font-family:Lucida Console;text-align:center;text-shadow: black 0px 0px 10px;"> 1-Way ANOVA functionality to be added soon! </p>
     
     
     
     <!-- the /div for div 1wayANOVApage is below -->
   </div>
   
   <script>
     
     function calculate() {
  // This is the string that contains the numbers separated by a space.
  var inputValue = document.getElementById('numberSeries').value;

  var values = inputValue.split(' ')
  // changed parseInt()) to parseFloat()) to try n fix decimal sum
    .map((val) => parseFloat(val))
    .filter((val) => !isNaN(val));
  

    //part of the code don't change
  var sum = values.reduce((currentVal, nextVal) => (currentVal*10000)/10000 + (nextVal*10000)/10000, 0);

  var average = sum / values.length;

  
  //test starts here
xMinusXbar = [];
  for (var i = 0, len = values.length; i < len; i++) 
    xMinusXbar.push(((values[i] -average)*(values[i] -average)));

    console.log(xMinusXbar);

    var sumXminusXbar = xMinusXbar

    .reduce( (sumXminusXbar,current) => sumXminusXbar + current, 0);
    console.log(sumXminusXbar);
    console.log(sumXminusXbar/xMinusXbar.length);
    var variance = sumXminusXbar/(xMinusXbar.length - 1);
    var variancep = sumXminusXbar/xMinusXbar.length;
    var stdDeviation = Math.sqrt(variance);
    var stdDeviationp = Math.sqrt(variancep);
    console.log(stdDeviation);
     

  document.getElementById('calculationSampleSize').innerHTML = `${values.length}`;
  document.getElementById('calculationPopSize').innerHTML = `${values.length}`;
  document.getElementById('calculationSampleSum').innerHTML = `${sum.toFixed(6)}`;
  document.getElementById('calculationPopSum').innerHTML = `${sum.toFixed(6)}`;
  document.getElementById('calculationSampleMean').innerHTML = `${average.toFixed(6)}`;
  document.getElementById('calculationPopMean').innerHTML = `${average.toFixed(6)}`;
  document.getElementById('calculationSampleVar').innerHTML = `${variance.toFixed(6)}`;
  document.getElementById('calculationPopVar').innerHTML = `${variancep.toFixed(6)}`;
  document.getElementById('calculationSampleStdDev').innerHTML = `${stdDeviation.toFixed(6)}`;
  document.getElementById('calculationPopStdDev').innerHTML = `${stdDeviationp.toFixed(6)}`;
     }
     
   </script>

    
    
    </body>
  
  </html>
